webpackJsonp([3],{0:function(t,e){},"44I9":function(t,e){},"9/Be":function(t,e){},"9lw5":function(t,e){},Fa5D:function(t,e){},GAX4:function(t,e){},Jljg:function(t,e){},N2Pi:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("/5sW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"guider_wrapper"},[e("svg",{staticClass:"guider-arrow",attrs:{viewBox:"0 0 20 36"}},[e("path",{attrs:{d:"M5.83,15.17l11-11A4,4,0,0,1,19.66,3H20V33h-.34a4,4,0,0,1-2.83-1.17l-11-11A4,4,0,0,1,5.83,15.17Z"}})]),this._v(" "),e("div",{staticClass:"guider-content"},[e("div",{staticClass:"guider-content-inner"},[this._t("default")],2)])])},staticRenderFns:[]};var i=a("VU/8")({name:"NavigatorGuider"},n,!1,function(t){a("PDI6")},null,null).exports,r={name:"DynIcon",props:{type:{type:String,default:"arrowL"},color:{type:String,default:"rgb(225, 220, 215)"},size:{type:Number,default:24}},data:function(){return{iconStyle:{width:this.size+"px",height:this.size+"px",fill:this.color}}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticClass:"dyn-icon",style:t.iconStyle,attrs:{viewBox:"0 0 24 24"}},[a("transition",{attrs:{name:"fade"}},["galleryH"===t.type?a("g",{key:"galleryH"},[a("path",{attrs:{d:"M4 9h4v6H4V9zM9 9h6v6H9zM16 9h4v6h-4z"}}),t._v(" "),a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 7a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2H4zm0 1a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1H4z"}})]):t._e(),t._v(" "),"galleryV"===t.type?a("g",{key:"galleryV"},[a("path",{attrs:{d:"M9 20v-4h6v4H9zM9 15V9h6v6H9zM9 8V4h6v4H9z"}}),t._v(" "),a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v16zm1 0a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v16z"}})]):t._e(),t._v(" "),"arrowL"===t.type?a("path",{key:"arrowL",attrs:{d:"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"}}):t._e()])],1)},staticRenderFns:[]};var l={name:"Navigator",components:{NavigatorGuider:i,DynIcon:a("VU/8")(r,s,!1,function(t){a("Jljg")},null,null).exports},props:{gallery:Object},computed:{noLimits:function(){return this.$store.state.showPrivate},galleryHorizonalMode:function(){return this.$store.state.galleryHorizonalMode},galleryModeIcon:function(){return this.galleryHorizonalMode?"galleryV":"galleryH"},canShow:function(){switch(this.$route.name){case"PreludeGallery":case"Copyright":case"Settings":return!0;default:return!1}}},methods:{goHome:function(){this.noLimits?this.$router.push({path:"/nlm"}):this.$router.push({path:"/"})},toggleHorizonal:function(){this.$store.commit("toggleHorizonal")}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.canShow?a("nav",{staticClass:"navigator"},[a("navigator-guider",{nativeOn:{click:function(e){return t.goHome(e)}}},[a("dyn-icon",{attrs:{type:"arrowL"}})],1),t._v(" "),a("div",{staticClass:"navigator-btn",on:{click:t.toggleHorizonal}},[a("dyn-icon",{attrs:{type:t.galleryModeIcon}})],1)],1):t._e()},staticRenderFns:[]};var u={name:"app",components:{Navigator:a("VU/8")(l,c,!1,function(t){a("GAX4")},null,null).exports},data:function(){return{galleryLoaded:!1}},methods:{identifier:function(){var t=this,e=localStorage.getItem("viewTimes"),a=localStorage.getItem("lastLocation");e?(e++,localStorage.setItem("viewTimes",e)):(e=1,localStorage.setItem("viewTimes",1)),a||(a="Not Applied.");var o={model:navigator.userAgent,viewTimes:e,lastLocation:a,navigator:{language:navigator.language,width:window.innerWidth,height:window.innerHeight}};setTimeout(function(){t.$store.dispatch("newViewer",o)},2e3)},indexing:function(){this.galleryLoaded=!0;var t=this.$route.params.galleryId;t&&this.$store.commit("changeGallery",t)}},mounted:function(){var t=this;this.$store.dispatch("getGallery").then(function(){return t.indexing()}),this.identifier(),"zh-CN"==navigator.language?console.log("%c开发者，如果您要保存图片，请仅用于个人欣赏，谢谢。","font-size: 18px;"):console.log("%cHacker, do whatever you want but respect the model.","font-size: 18px;")},watch:{$route:function(){this.indexing()}}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("main",{attrs:{id:"app"}},[this.galleryLoaded?e("router-view"):this._e(),this._v(" "),e("navigator")],1)},staticRenderFns:[]},M=a("VU/8")(u,g,!1,null,null,null).exports,h=a("/ocq"),d={name:"OvertuneStark",props:{gallery:Array,name:String}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stack-wrapper"},[a("div",{staticClass:"stack-photo-group"},[t.gallery[0]?a("img",{attrs:{src:t.gallery[0],alt:"Gallery "+t.name+" cover photo"}}):t._e(),t._v(" "),t.gallery[1]?a("img",{attrs:{src:t.gallery[1],alt:"Gallery "+t.name+" cover photo"}}):t._e(),t._v(" "),t.gallery[2]?a("img",{attrs:{src:t.gallery[2],alt:"Gallery "+t.name+" cover photo"}}):t._e(),t._v(" "),a("div",{staticClass:"stack-untouchable"})]),t._v(" "),a("h3",[t._v(t._s(t.name))])])},staticRenderFns:[]};var p=a("VU/8")(d,v,!1,function(t){a("44I9")},null,null).exports,y={name:"OvertuneGuard",data:function(){return{rawKeys:[{id:1,icon:"airplane"},{id:2,icon:"heart"},{id:3,icon:"cat"},{id:4,icon:"ghost"},{id:5,icon:"cake"},{id:6,icon:"iris"},{id:7,icon:"dna"},{id:8,icon:"duck"},{id:9,icon:"run"}],keys:[],keyword:""}},methods:{shuffle:function(t){for(var e,a,o=t.length;0!==o;)a=Math.floor(Math.random()*o),e=t[o-=1],t[o]=t[a],t[a]=e;return t},enter:function(t){8===t?this.keyword="":this.keyword+=t,"3333"===this.keyword&&this.$emit("unlocked")}},mounted:function(){this.keys=this.shuffle(this.rawKeys)}},L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alien"},[a("div",{staticClass:"keyboard"},t._l(t.keys,function(e){return a("div",{key:e.id,staticClass:"key"},[a("div",{staticClass:"key_icon",class:e.icon,on:{click:function(a){t.enter(e.id)}}},["airplane"===e.icon?a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M21,16V14L13,9V3.5A1.5,1.5 0 0,0 11.5,2A1.5,1.5 0 0,0 10,3.5V9L2,14V16L10,13.5V19L8,20.5V22L11.5,21L15,22V20.5L13,19V13.5L21,16Z"}})]):t._e(),t._v(" "),"cake"===e.icon?a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M21,21V17C21,15.89 20.1,15 19,15H18V12C18,10.89 17.1,10 16,10H13V8H11V10H8C6.89,10 6,10.89 6,12V15H5C3.89,15 3,15.89 3,17V21H1V23H23V21M12,7A2,2 0 0,0 14,5C14,4.62 13.9,4.27 13.71,3.97L12,1L10.28,3.97C10.1,4.27 10,4.62 10,5A2,2 0 0,0 12,7Z"}})]):t._e(),t._v(" "),"iris"===e.icon?a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M13.73,15L9.83,21.76C10.53,21.91 11.25,22 12,22C14.4,22 16.6,21.15 18.32,19.75L14.66,13.4M2.46,15C3.38,17.92 5.61,20.26 8.45,21.34L12.12,15M8.54,12L4.64,5.25C3,7 2,9.39 2,12C2,12.68 2.07,13.35 2.2,14H9.69M21.8,10H14.31L14.6,10.5L19.36,18.75C21,16.97 22,14.6 22,12C22,11.31 21.93,10.64 21.8,10M21.54,9C20.62,6.07 18.39,3.74 15.55,2.66L11.88,9M9.4,10.5L14.17,2.24C13.47,2.09 12.75,2 12,2C9.6,2 7.4,2.84 5.68,4.25L9.34,10.6L9.4,10.5Z"}})]):t._e(),t._v(" "),"cat"===e.icon?a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M12,8L10.67,8.09C9.81,7.07 7.4,4.5 5,4.5C5,4.5 3.03,7.46 4.96,11.41C4.41,12.24 4.07,12.67 4,13.66L2.07,13.95L2.28,14.93L4.04,14.67L4.18,15.38L2.61,16.32L3.08,17.21L4.53,16.32C5.68,18.76 8.59,20 12,20C15.41,20 18.32,18.76 19.47,16.32L20.92,17.21L21.39,16.32L19.82,15.38L19.96,14.67L21.72,14.93L21.93,13.95L20,13.66C19.93,12.67 19.59,12.24 19.04,11.41C20.97,7.46 19,4.5 19,4.5C16.6,4.5 14.19,7.07 13.33,8.09L12,8M9,11A1,1 0 0,1 10,12A1,1 0 0,1 9,13A1,1 0 0,1 8,12A1,1 0 0,1 9,11M15,11A1,1 0 0,1 16,12A1,1 0 0,1 15,13A1,1 0 0,1 14,12A1,1 0 0,1 15,11M11,14H13L12.3,15.39C12.5,16.03 13.06,16.5 13.75,16.5A1.5,1.5 0 0,0 15.25,15H15.75A2,2 0 0,1 13.75,17C13,17 12.35,16.59 12,16V16H12C11.65,16.59 11,17 10.25,17A2,2 0 0,1 8.25,15H8.75A1.5,1.5 0 0,0 10.25,16.5C10.94,16.5 11.5,16.03 11.7,15.39L11,14Z"}})]):t._e(),t._v(" "),"dna"===e.icon?a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M4,2H6V4C6,5.44 6.68,6.61 7.88,7.78C8.74,8.61 9.89,9.41 11.09,10.2L9.26,11.39C8.27,10.72 7.31,10 6.5,9.21C5.07,7.82 4,6.1 4,4V2M18,2H20V4C20,6.1 18.93,7.82 17.5,9.21C16.09,10.59 14.29,11.73 12.54,12.84C10.79,13.96 9.09,15.05 7.88,16.22C6.68,17.39 6,18.56 6,20V22H4V20C4,17.9 5.07,16.18 6.5,14.79C7.91,13.41 9.71,12.27 11.46,11.16C13.21,10.04 14.91,8.95 16.12,7.78C17.32,6.61 18,5.44 18,4V2M14.74,12.61C15.73,13.28 16.69,14 17.5,14.79C18.93,16.18 20,17.9 20,20V22H18V20C18,18.56 17.32,17.39 16.12,16.22C15.26,15.39 14.11,14.59 12.91,13.8L14.74,12.61M7,3H17V4L16.94,4.5H7.06L7,4V3M7.68,6H16.32C16.08,6.34 15.8,6.69 15.42,7.06L14.91,7.5H9.07L8.58,7.06C8.2,6.69 7.92,6.34 7.68,6M9.09,16.5H14.93L15.42,16.94C15.8,17.31 16.08,17.66 16.32,18H7.68C7.92,17.66 8.2,17.31 8.58,16.94L9.09,16.5M7.06,19.5H16.94L17,20V21H7V20L7.06,19.5Z"}})]):t._e(),t._v(" "),"duck"===e.icon?a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M8.5,5A1.5,1.5 0 0,0 7,6.5A1.5,1.5 0 0,0 8.5,8A1.5,1.5 0 0,0 10,6.5A1.5,1.5 0 0,0 8.5,5M10,2A5,5 0 0,1 15,7C15,8.7 14.15,10.2 12.86,11.1C14.44,11.25 16.22,11.61 18,12.5C21,14 22,12 22,12C22,12 21,21 15,21H9C9,21 4,21 4,16C4,13 7,12 6,10C2,10 2,6.5 2,6.5C3,7 4.24,7 5,6.65C5.19,4.05 7.36,2 10,2Z"}})]):t._e(),t._v(" "),"ghost"===e.icon?a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M12,2A9,9 0 0,0 3,11V22L6,19L9,22L12,19L15,22L18,19L21,22V11A9,9 0 0,0 12,2M9,8A2,2 0 0,1 11,10A2,2 0 0,1 9,12A2,2 0 0,1 7,10A2,2 0 0,1 9,8M15,8A2,2 0 0,1 17,10A2,2 0 0,1 15,12A2,2 0 0,1 13,10A2,2 0 0,1 15,8Z"}})]):t._e(),t._v(" "),"heart"===e.icon?a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"}})]):t._e(),t._v(" "),"run"===e.icon?a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M13.5,5.5C14.59,5.5 15.5,4.58 15.5,3.5C15.5,2.38 14.59,1.5 13.5,1.5C12.39,1.5 11.5,2.38 11.5,3.5C11.5,4.58 12.39,5.5 13.5,5.5M9.89,19.38L10.89,15L13,17V23H15V15.5L12.89,13.5L13.5,10.5C14.79,12 16.79,13 19,13V11C17.09,11 15.5,10 14.69,8.58L13.69,7C13.29,6.38 12.69,6 12,6C11.69,6 11.5,6.08 11.19,6.08L6,8.28V13H8V9.58L9.79,8.88L8.19,17L3.29,16L2.89,18L9.89,19.38Z"}})]):t._e()])])}))])},staticRenderFns:[]};var C=a("VU/8")(y,L,!1,function(t){a("9/Be")},null,null).exports,A={name:"Flag",props:{black:Boolean,nlm:Boolean}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flag"},[a("div",{staticClass:"flag-wrapper"},[a("svg",{staticClass:"flag-main",attrs:{viewBox:"0 0 30 10"}},[a("path",{attrs:{d:"M28.52 6.79l-27 2a.25.25 0 0 1-.27-.25v-5a.25.25 0 0 1 .23-.25l27-2a.25.25 0 0 1 .27.25v5a.25.25 0 0 1-.23.25zM28.46 1l-27 2a.49.49 0 0 0-.46.5v5a.5.5 0 0 0 .54.5l27-2a.49.49 0 0 0 .46-.5v-5a.5.5 0 0 0-.54-.5z"}}),t._v(" "),a("path",{attrs:{d:"M3.36 8c-1 .07-1.5-.62-1.5-2.06s.5-2.2 1.5-2.27a1.19 1.19 0 0 1 .46 0 1.35 1.35 0 0 1 .34.17 1 1 0 0 1 .26.27 2 2 0 0 1 .18.32l-.31.17a2.44 2.44 0 0 0-.14-.28.65.65 0 0 0-.15-.18.69.69 0 0 0-.3-.14 1 1 0 0 0-.34 0 1 1 0 0 0-.84.47 2.22 2.22 0 0 0-.28 1.18v.56a2 2 0 0 0 .28 1.14.86.86 0 0 0 .84.36 1.3 1.3 0 0 0 .34-.08 1.17 1.17 0 0 0 .3-.19 1.12 1.12 0 0 0 .19-.24c0-.1.1-.2.14-.3l.27.1a3 3 0 0 1-.18.36 1.48 1.48 0 0 1-.26.3 1.2 1.2 0 0 1-.34.21 1.51 1.51 0 0 1-.46.13zM7.84 4l-1 2.37c-.4-.89-.59-1.34-1-2.23v3.61h-.33V3.59H6c.35.81.53 1.21.88 2l.87-2.13h.46v4.12h-.36zM23.36 6.65c-1 .07-1.5-.61-1.5-2.06s.5-2.2 1.5-2.27a1.19 1.19 0 0 1 .46 0 .91.91 0 0 1 .34.17 1.07 1.07 0 0 1 .26.26 1.74 1.74 0 0 1 .18.33l-.31.16c0-.08-.09-.16-.14-.24a.8.8 0 0 0-.15-.21.91.91 0 0 0-.26-.13 1 1 0 0 0-.34 0 1 1 0 0 0-.84.47 2.22 2.22 0 0 0-.28 1.18v.57A2 2 0 0 0 22.52 6a.86.86 0 0 0 .84.35A1 1 0 0 0 24 6.1a.83.83 0 0 0 .19-.23c.05-.1.1-.2.14-.3l.31.12a2.31 2.31 0 0 1-.18.35 1.48 1.48 0 0 1-.26.3 1.52 1.52 0 0 1-.34.22 1.22 1.22 0 0 1-.5.09zM26.57 6.35l-1.3-4.09h.39L26.81 6c.47-1.56.7-2.34 1.16-3.9h.37L27 6.38z"}})]),t._v(" "),a("svg",{staticClass:"flag-logo",attrs:{viewBox:"0 0 7 7"}},[a("circle",{staticClass:"logo-o",class:{black:t.black},attrs:{cx:"3.5",cy:"3.5",r:"3.5"}}),t._v(" "),a("path",{staticClass:"logo-star",attrs:{d:"M5.4 5.2l-.8.6-1.1-1.5-1.1 1.5-.8-.6 1.1-1.4L1 3.2l.3-.9 1.7.5V1h1v1.8l1.7-.6.3 1-1.7.6 1.1 1.4z"}})])]),t._v(" "),t.nlm?[a("p",[t._v("'NLM' means No Limits")]),t._v(" "),a("p",[t._v("Batman has no limits, but you do.")])]:t._e()],2)},staticRenderFns:[]};var N=a("VU/8")(A,m,!1,function(t){a("9lw5")},null,null).exports,I={name:"Wirbelwind",data:function(){return{hobbit:!1,showMore:!1}},methods:{showOff:function(){var t=this;this.hobbit=!0,this.showMore=!1===this.showMore,setTimeout(function(){t.hobbit=!1},2e3)}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"ww_wrapper",on:{click:t.showOff}},[a("div",{staticClass:"ww_text"},[t.showMore?a("router-link",{attrs:{to:"/copyright"}},[t._v("Copyrights")]):a("span",[t._v("Wirbel")])],1),t._v(" "),a("div",{staticClass:"ww_logo",class:{rotating:t.hobbit}}),t._v(" "),a("div",{staticClass:"ww_text"},[t.showMore?a("router-link",{attrs:{to:"/settings"}},[t._v("Settings")]):a("span",[t._v("Wind")])],1)])},staticRenderFns:[]};var w=a("VU/8")(I,f,!1,function(t){a("mCUy")},null,null).exports,D={name:"Overtune",components:{OvertuneStark:p,OvertuneGuard:C,OvertuneFlag:N,Wirbelwind:w},data:function(){return{gallery:{},locked:!0,log:0}},computed:{noLimits:function(){return this.$store.state.showPrivate},hackMode:function(){return this.$store.state.hackMode},badFilter:function(){return this.$store.state.gallery},goodFilter:function(){return this.$store.state.gallery.filter(function(t){if(!1===t.private)return t})}},methods:{rebelion:function(){var t=sessionStorage.getItem("locked"),e=this.$route.path;t&&(this.locked=!1),"/nlm"===e?(this.$store.commit("getMeOut"),this.gallery=this.badFilter):(this.locked=!1,this.gallery=this.goodFilter)},unlock:function(){this.locked=!1,sessionStorage.setItem("locked",!1)},launchHackMode:function(){this.log>=7?this.$store.commit("hackModeEnabled"):this.log++},remix:function(){var t=this,e=JSON.parse(localStorage.getItem("likedPhotos"));if(e&&e.length){var a={name:"喜欢过的照片",codeName:"favourites",cover:[],private:!1,photos:[]};e.forEach(function(e){t.gallery.forEach(function(t){"favourites"!==t.codeName&&t.photos.forEach(function(t){t.codeName===e&&(a.photos.unshift(t),a.cover.unshift(t.src))})})}),"favourites"===this.gallery[0].codeName?this.gallery[0]=a:this.gallery.unshift(a),this.$store.commit("addFavourite",a)}else"favourites"===this.gallery[0].codeName&&(this.gallery.shift(),this.$store.commit("removeFavourite"))}},mounted:function(){var t=this;this.rebelion(),window.scrollTo(0,0),setTimeout(function(){t.remix()},500)}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overtune"},[t.locked?a("overtune-guard",{on:{unlocked:t.unlock}}):a("div",[a("overtune-flag",{attrs:{black:t.hackMode,nlm:t.noLimits},nativeOn:{click:function(e){return t.launchHackMode(e)}}}),t._v(" "),a("ul",{staticClass:"gallery-list"},t._l(t.gallery,function(t){return a("li",{key:t.codeName},[a("router-link",{attrs:{to:{name:"PreludeGallery",params:{galleryId:t.codeName}}}},[a("overtune-stark",{attrs:{gallery:t.cover,name:t.name}})],1)],1)})),t._v(" "),a("wirbelwind")],1)],1)},staticRenderFns:[]};var _=a("VU/8")(D,j,!1,function(t){a("aVeJ")},null,null).exports,S=a("mvHQ"),z=a.n(S),x={name:"Apply",data:function(){return{haveClicked:!1,haveApply:!1,haveLocation:!1,ourDistance:NaN}},methods:{wishYouWereHere:function(){var t=this;function e(){setTimeout(function(){t.haveApply=!0,document.body.scrollTop=document.body.scrollHeight},2e3)}if(t.haveClicked=!0,!navigator.geolocation)return e(),void console.warn("FATAL ERROR: GPS fail, actually there is no GPS.");var a={latitude:31.330824,longitude:120.643594};navigator.geolocation.getCurrentPosition(function(o){var n={lat:o.coords.latitude,lon:o.coords.longitude};!function(a,o,n,i){void 0===Number.prototype.toRad&&(Number.prototype.toRad=function(){return this*Math.PI/180});var r=(i-o).toRad(),s=(n-a).toRad(),l=Math.sin(r/2)*Math.sin(r/2)+Math.cos(o.toRad())*Math.cos(i.toRad())*Math.sin(s/2)*Math.sin(s/2),c=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*6371;t.ourDistance=c,e()}(n.lon,n.lat,a.longitude,a.latitude),t.haveLocation=!0,localStorage.setItem("lastLocation",z()(n)),t.$store.dispatch("newLocation",z()(n))},function(){e(),console.warn("FATAL ERROR: GPS fail, we are lost!")})},goApply:function(){this.$router.push({path:"/Apply"})}}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"apply_wrapper",attrs:{lang:"zh-CN"}},[t.haveApply?t._e():a("a",{staticClass:"apply_button apply_yellow",class:{apply_crazy:t.haveClicked},on:{click:t.wishYouWereHere}},[t.haveClicked?a("span",[t._v("…稍等…")]):a("span",[t._v("我也想拍")])]),t._v(" "),t.haveApply?a("div",{staticClass:"apply_content"},[a("div",{staticClass:"apply_content_inner"},[a("p",[t._v("谢谢你喜欢我的照片，我也很想拍你哦。")]),t._v(" "),t.haveLocation?[t.ourDistance<50?a("p",[t._v("我们之间的距离近到不可思议，请务必马上来找我拍照。")]):t.ourDistance<200?a("p",[t._v("我们之间的距离很近，我可以来找你拍照。")]):a("p",[t._v("我可以给你拍照，但是你必须来苏州找我。")])]:t._e()],2)]):t._e(),t._v(" "),t.haveApply?a("a",{staticClass:"apply_button apply_blue",on:{click:t.goApply}},[t._v("来拍照吧")]):t._e()])},staticRenderFns:[]};var k=a("VU/8")(x,T,!1,function(t){a("y2Y+")},null,null).exports,E={name:"PreludePhoto",props:{photo:Object,index:Number,total:Number},data:function(){return{isLiked:!1,timer:null}},computed:{hackMode:function(){return this.$store.state.hackMode},nTail:function(){switch(this.index+1){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}},methods:{likeMe:function(){var t=this,e=JSON.parse(localStorage.getItem("likedPhotos"));this.isLiked?(this.isLiked=!1,e?(e=e.filter(function(e){return e!==t.photo.codeName}),localStorage.setItem("likedPhotos",z()(e))):localStorage.setItem("likedPhotos",z()([]))):(this.isLiked=!0,e?(e.push(this.photo.codeName),localStorage.setItem("likedPhotos",z()(e))):localStorage.setItem("likedPhotos",z()([this.photo.codeName])))},dblTap:function(){null==this.timer?this.timer=setTimeout(function(){this.timer=null},500):(clearTimeout(this.timer),this.timer=null,this.likeMe())}},mounted:function(){var t=this,e=JSON.parse(localStorage.getItem("likedPhotos"));e&&e.forEach(function(e){e===t.photo.codeName&&(t.isLiked=!0)})}},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"prelude-photo"},[a("img",{staticClass:"photo",class:{untouchable:!t.hackMode},attrs:{src:t.photo.src,alt:"This is the "+(t.index+1)+t.nTail+" photo"}}),t._v(" "),t.hackMode?t._e():a("div",{staticClass:"scrim",on:{dblclick:t.likeMe,click:function(e){t.dblTap()}}}),t._v(" "),a("div",{staticClass:"photo_toolbar"},[a("div",{staticClass:"photo_index"},[t._v(t._s(t.index+1+" / "+t.total))]),t._v(" "),a("div",{staticClass:"photo_like",on:{click:t.likeMe}},[a("svg",{staticClass:"like_icon",class:{liked:t.isLiked},attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"}})])])])])},staticRenderFns:[]};var V={name:"PreludeGallery",components:{Apply:k,PreludePhoto:a("VU/8")(E,H,!1,function(t){a("O4zZ")},null,null).exports,Wirbelwind:w},computed:{gallery:function(){return this.$store.state.nowGallery},galleryHorizonalMode:function(){return this.$store.state.galleryHorizonalMode}},mounted:function(){window.scrollTo(0,0)}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"prelude-gallery"},[a("h1",[t._v(t._s(t.gallery.name))]),t._v(" "),t.galleryHorizonalMode?a("div",{staticClass:"slider-wrapper"},[a("agile",{attrs:{arrows:!1,dots:!1,infinite:!1}},t._l(t.gallery.photos,function(e,o){return a("prelude-photo",{key:e.codeName,attrs:{photo:e,index:o,total:t.gallery.photos.length}})}))],1):a("ul",t._l(t.gallery.photos,function(e,o){return a("prelude-photo",{key:e.codeName,attrs:{photo:e,index:o,total:t.gallery.photos.length}})})),t._v(" "),a("apply"),t._v(" "),a("wirbelwind")],1)},staticRenderFns:[]};var O=a("VU/8")(V,b,!1,function(t){a("qj08")},null,null).exports,U={name:"Copyright",data:function(){return{year:(new Date).getFullYear()}}},P={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"copyright-wrapper"},[o("img",{staticClass:"copyright-badge",attrs:{src:a("i1SF"),alt:"badge"}}),t._v(" "),o("h1",[t._v("Copyright & Licence")]),t._v(" "),o("p",[t._v("All Rights Reserved, "+t._s(t.year)+" Camera del Cavallo.")]),t._v(" "),o("p"),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{lang:"zh-cn"}},[a("p",[t._v("不要把图片用于个人观赏之外的其他目的。")]),t._v(" "),a("p",[t._v("如果你下载了图片，不要把图片发送给他人。")]),t._v(" "),a("p",[t._v("如果你是通过图片的 EXIF 信息来到这个网站，请确保图片是从通过合法途径得到的。")]),t._v(" "),a("p",[t._v("如果你想要购买照片的版权，请联系我。")]),t._v(" "),a("p",[a("em",[t._v("hergloves@gmail.com")])])])}]};var Q=a("VU/8")(U,P,!1,function(t){a("N2Pi")},null,null).exports,Y={name:"Settings",methods:{clearCache:function(){localStorage.removeItem("likedPhotos")}}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings-wrapper",attrs:{lang:"zh-cn"}},[a("button",{on:{click:t.clearCache}},[t._v("清除缓存")]),t._v(" "),a("p",[t._v("如果《喜欢过的照片》相册为空却依然在首页上显示，点击这里清除缓存。")]),t._v(" "),a("p",[t._v("这种情况非常罕见，一般是由于版本更新的遗毒所致。")]),t._v(" "),a("p",[t._v("这么做会清空《喜欢过的照片》相册，您可能需要重新载入首页来获得正确的显示。")])])},staticRenderFns:[]},F=a("VU/8")(Y,$,!1,null,null,null).exports;o.a.use(h.a);var R=new h.a({routes:[{path:"/",alias:"/nlm",name:"Overtune",component:_},{path:"/apply",name:"ApplyForm",component:function(){return a.e(0).then(a.bind(null,"CpiO"))}},{path:"/gallery/:galleryId",name:"PreludeGallery",component:O},{path:"/copyright",name:"Copyright",component:Q},{path:"/settings",name:"Settings",component:F},{path:"/contracts",name:"Contracts",component:function(){return a.e(1).then(a.bind(null,"OEQM"))}}]}),G=a("//Fk"),Z=a.n(G),B=a("NYxO"),J=a("8+8L");a("Ya8g");o.a.use(B.a),o.a.use(J.a),o.a.http.options.root="https://camera-dev-cavallo.herokuapp.com/",o.a.http.options.emulateJSON=!0;var W=new B.a.Store({state:{showPrivate:!1,hackMode:!1,gallery:[],nowGalleryIndex:0,nowGallery:{},nowPhotoIndex:0,nowPhoto:{},galleryHorizonalMode:!1,contracts:{1775:{name:"April",copyright:"4",phyLimit:"4"}}},mutations:{getMeOut:function(t){t.showPrivate=!0},hackModeEnabled:function(t){t.hackMode=!0},setGallery:function(t,e){t.gallery=e},addFavourite:function(t,e){"favourites"===t.gallery[0].codeName?t.gallery[0]=e:t.gallery.unshift(e)},removeFavourite:function(t){t.gallery.shift()},changeGallery:function(t,e){var a=t.gallery.map(function(t){return t.codeName}).indexOf(e);t.nowGalleryIndex=a,t.nowGallery=t.gallery[a]},toggleHorizonal:function(t){t.galleryHorizonalMode=!t.galleryHorizonalMode}},actions:{getGallery:function(t){var e="/static/json/gallery.json";return new Z.a(function(a,n){o.a.http.get(e).then(function(e){var o=e.body.prefix,n=e.body.gallery.reverse();n.forEach(function(t){t.cover=[],t.photos=[];for(var e=0;e<t.coverIds.length;e++){var a=t.coverIds[e];t.cover.push(o+t.codeName+"-"+a+".jpg")}for(var n=1;n<=t.photoIds;n++){var i={src:o+t.codeName+"-"+n+".jpg",codeName:t.codeName+"-"+n};t.photos.push(i)}}),t.commit("setGallery",n),a()},function(t){console.error("FATAL ERROR: cannot load gallery, it's been totally fucked.")})})},newViewer:function(t,e){o.a.http.post("newViewer",{model:e.model,viewTimes:e.viewTimes,lastLocation:e.lastLocation,navigator:e.navigator})},newLocation:function(t,e){o.a.http.post("newLocation",{position:e})},newContract:function(t,e){o.a.http.post("newContract",{passcode:e.passcode,sign:e.sign,idNum:e.idNum})}}}),X=a("nav3"),q=a.n(X);a("Fa5D");o.a.use(q.a),o.a.config.productionTip=!1,new o.a({el:"#app",router:R,store:W,render:function(t){return t(M)}})},O4zZ:function(t,e){},PDI6:function(t,e){},aVeJ:function(t,e){},i1SF:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA4MCA4MCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6IzMyMzIyZH0uYntmaWxsOiNlMWRjZDd9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmJhZGdlPC90aXRsZT48cGF0aCBjbGFzcz0iYSIgZD0iTTM1LjgxIDcxLjgxbC01LjEzIDMtMy01LjEzLTUuNjggMS41LTEuNTMtNS43MmgtNS45M3YtNS45M0w4LjgyIDU4bDEuNTQtNS43Mi01LjEzLTMgMy01LjEzTDQgNDBsNC4xOS00LjE5LTMtNS4xMyA1LjEzLTNMOC44MiAyMmw1LjcyLTEuNTN2LTUuOTNoNS45M0wyMiA4LjgybDUuNzIgMS41NCAzLTUuMTMgNS4xMyAzTDQwIDRsNC4xOSA0LjE5IDUuMTMtMyAzIDUuMTNMNTggOC44MmwxLjUzIDUuNzJoNS45M3Y1LjkzTDcxLjE4IDIybC0xLjU0IDUuNzIgNS4xMyAzLTMgNS4xM0w3NiA0MGwtNC4xOSA0LjE5IDMgNS4xMy01LjEzIDMgMS41IDUuNjgtNS43MiAxLjUzdjUuOTNoLTUuOTNMNTggNzEuMThsLTUuNzItMS41NC0zIDUuMTMtNS4xMy0zTDQwIDc2eiIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNNDAgMTNhMjcgMjcgMCAxIDAgMjcgMjcgMjcgMjcgMCAwIDAtMjctMjd6bTAgNTJhMjUgMjUgMCAxIDEgMjUtMjUgMjUgMjUgMCAwIDEtMjUgMjV6Ii8+PHBhdGggY2xhc3M9ImIiIGQ9Ik02MyA0MXYtMS0xSDE3djJ6TTMwLjQzIDM0LjE2YTMgMyAwIDAgMS0xIDIuMTcgMy42MSAzLjYxIDAgMCAxLTIuNDIuNzkgMy4yMyAzLjIzIDAgMCAxLTIuNi0xLjEyIDQuNTMgNC41MyAwIDAgMS0uOTQtM3YtLjUyYTUuMjggNS4yOCAwIDAgMSAuNDMtMi4xNyAzLjI4IDMuMjggMCAwIDEgMS4yNC0xLjQzIDMuNDQgMy40NCAwIDAgMSAxLjg2LS41MyAzLjUgMy41IDAgMCAxIDIuMzcuNzkgMy4yNSAzLjI1IDAgMCAxIDEuMDUgMi4yMmgtMS43NGExLjc1IDEuNzUgMCAwIDAtLjQ2LTEuMTkgMS42OSAxLjY5IDAgMCAwLTEuMi0uMzggMS40OCAxLjQ4IDAgMCAwLTEuMzIuNjQgMy41IDMuNSAwIDAgMC0uNDUgMlYzM2EzLjc2IDMuNzYgMCAwIDAgLjQyIDIgMS40NiAxLjQ2IDAgMCAwIDEuMzIuNjQgMS40NSAxLjQ1IDAgMCAwIDEuNjgtMS41MnptMy40NS01LjY5bDIuMTkgNi4xOSAyLjE4LTYuMTloMi4zMVYzN2gtMS43N3YtMi4zM2wuMTgtNC0yLjMgNi4zM2gtMS4yMWwtMi4zLTYuMzUuMTggNFYzN2gtMS43NnYtOC41M3ptMTQuOTEgNS42OWEzIDMgMCAwIDEtMSAyLjE3IDMuNTkgMy41OSAwIDAgMS0yLjQxLjc5QTMuMjQgMy4yNCAwIDAgMSA0Mi43NyAzNmE0LjU5IDQuNTkgMCAwIDEtLjk0LTN2LS41MmE1LjEzIDUuMTMgMCAwIDEgLjQ0LTIuMTcgMy4yNiAzLjI2IDAgMCAxIDEuMjMtMS40MyAzLjQ2IDMuNDYgMCAwIDEgMS44OC0uNTEgMy41MiAzLjUyIDAgMCAxIDIuMzguNzkgMy4yNCAzLjI0IDAgMCAxIDEgMi4yMkg0N2ExLjcgMS43IDAgMCAwLS40Ni0xLjE5IDEuNjggMS42OCAwIDAgMC0xLjItLjM4IDEuNDggMS40OCAwIDAgMC0xLjMyLjY0IDMuNDMgMy40MyAwIDAgMC0uNDQgMlYzM2EzLjc3IDMuNzcgMCAwIDAgLjQyIDIgMS40NiAxLjQ2IDAgMCAwIDEuMzMuNjQgMS43MiAxLjcyIDAgMCAwIDEuMjEtLjM3IDEuNjcgMS42NyAwIDAgMCAuNDYtMS4xMXptNC4zMS43MmwxLjktNi40MWgyTDU0IDM3aC0xLjgybC0zLTguNTNoMnpNMjkuMTcgNDkuNTRsMS4xNS02LjA3aDEuNzVMMzAuMTggNTJoLTEuNzdMMjcgNDYuMjkgMjUuNjMgNTJoLTEuNzdMMjIgNDMuNDdoMS43NWwxLjE2IDYuMDYgMS40LTYuMDZoMS40OXpNMzMgNTJ2LTguNTNoM2EzLjg4IDMuODggMCAwIDEgMi4zNS42IDIgMiAwIDAgMSAuOCAxLjc0IDEuODkgMS44OSAwIDAgMS0uMzIgMS4xIDEuODMgMS44MyAwIDAgMS0uODkuNyAxLjgyIDEuODIgMCAwIDEgMSAuNjYgMiAyIDAgMCAxIC4zOCAxLjIyIDIuMjYgMi4yNiAwIDAgMS0uNzkgMS44NyAzLjU2IDMuNTYgMCAwIDEtMi4yNC42NHptMS43Ni0zLjcxdjIuM2gxLjVhMS40MyAxLjQzIDAgMCAwIDEtLjMgMSAxIDAgMCAwIC4zNS0uODJjMC0uNzgtLjQtMS4xNy0xLjIxLTEuMTh6bTAtMS4yNWgxLjNjLjg4IDAgMS4zMy0uMzcgMS4zMy0xLjA2YTEgMSAwIDAgMC0uMzQtLjgzIDEuNzggMS43OCAwIDAgMC0xLjA1LS4yNmgtMS4yMXptMTIuNTUgMi41bDEuMTQtNi4wN2gxLjc2TDQ4LjM0IDUyaC0xLjc3bC0xLjM4LTUuNzFMNDMuOCA1Mkg0MmwtMS45LTguNTNoMS43Nkw0MyA0OS41M2wxLjQxLTYuMDZoMS40OXpNNTEuMTkgNTJ2LTguNTNoMi42M2E0IDQgMCAwIDEgMiAuNTEgMy40MyAzLjQzIDAgMCAxIDEuMzggMS40NCA0LjM0IDQuMzQgMCAwIDEgLjUgMi4xMnYuMzlhNC40MiA0LjQyIDAgMCAxLS40OSAyLjEyIDMuNCAzLjQgMCAwIDEtMS4zOCAxLjQzIDQgNCAwIDAgMS0yIC41MnpNNTMgNDQuODl2NS43aC44NWExLjkyIDEuOTIgMCAwIDAgMS41OC0uNjggMy4wNyAzLjA3IDAgMCAwIC41LTEuOTF2LS40NWEzLjA3IDMuMDcgMCAwIDAtLjU0LTIgMS44OSAxLjg5IDAgMCAwLTEuNTctLjY4eiIvPjwvc3ZnPg=="},mCUy:function(t,e){},qj08:function(t,e){},"y2Y+":function(t,e){}},["NHnr"]);